<!DOCTYPE html> 
<html lang="ru"> 
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Regex –¥–ª—è –ª—é–¥–µ–π | –ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: -apple-system, system-ui, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        color: white;
        padding: 30px 20px;
        margin-bottom: 30px;
      }
      h1 {
        font-size: 36px;
        margin-bottom: 10px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
      .subtitle {
        font-size: 18px;
        opacity: 0.9;
        margin-bottom: 20px;
      }

      .donation-section {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        display: flex;
        flex-direction: column;
        align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
        justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
        text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç */
      }
      .donation-title {
        color: white;
        text-align: center;
        margin-bottom: 15px;
        font-size: 18px;
      }
      .donation-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
        margin-bottom: 15px;
      }
      .donation-btn {
        background: white;
        color: #667eea;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        min-width: 120px;
      }
      .donation-btn:hover {
        background: #5568d3;
        color: white;
        transform: translateY(-2px);
      }
      .donation-iframe {
        text-align: center;
        margin-top: 10px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º iframe */
        justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º iframe */
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —Ü–µ–Ω—Ç—Ä–æ–≤–∫–∏ iframe */
      .donation-iframe iframe {
        display: block;
        margin: 0 auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
      }

      .main-content {
        background: white;
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .section-title {
        color: #667eea;
        margin-bottom: 25px;
        font-size: 24px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .section-title i {
        font-size: 20px;
      }

      .patterns-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 15px;
        margin-bottom: 40px;
      }

      .pattern-category {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 20px;
        border-left: 4px solid #667eea;
      }
      .category-title {
        color: #495057;
        margin-bottom: 15px;
        font-size: 16px;
        font-weight: 600;
      }

      .pattern-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .pattern-btn {
        background: white;
        border: 2px solid #e0e0e0;
        color: #495057;
        padding: 12px 16px;
        border-radius: 8px;
        text-align: left;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 14px;
      }
      .pattern-btn:hover {
        border-color: #667eea;
        color: #667eea;
        transform: translateX(5px);
      }
      .pattern-btn .icon {
        font-size: 18px;
        width: 24px;
      }

      .result-section {
        margin-top: 40px;
      }

      .result {
        margin-top: 20px;
        padding: 25px;
        background: #f5f5f5;
        border-radius: 12px;
        border-left: 4px solid #667eea;
        display: none;
      }
      .result.show {
        display: block;
      }

      .regex-output {
        font-family: 'Courier New', monospace;
        background: #2d2d2d;
        color: #4af626;
        padding: 16px;
        border-radius: 8px;
        margin: 15px 0;
        word-break: break-all;
        font-size: 16px;
      }

      .action-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 20px;
      }
      .action-btn {
        padding: 10px 20px;
        background: #667eea;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .action-btn:hover {
        background: #5568d3;
        transform: translateY(-1px);
      }
      .action-btn.copy {
        background: #28a745;
      }
      .action-btn.copy:hover {
        background: #218838;
      }
      .action-btn.test {
        background: #ffc107;
        color: #333;
      }
      .action-btn.test:hover {
        background: #e0a800;
      }

      .test-section {
        margin-top: 20px;
        padding: 20px;
        background: #fff3cd;
        border-radius: 8px;
        border-left: 4px solid #ffc107;
        display: none;
      }
      .test-section.show {
        display: block;
      }
      .test-input {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-family: monospace;
        margin-top: 10px;
        font-size: 14px;
      }
      .matches {
        margin-top: 15px;
        padding: 15px;
        background: white;
        border-radius: 6px;
        font-family: monospace;
        min-height: 60px;
        color: #28a745;
        font-weight: 600;
        font-size: 14px;
      }

      footer {
        text-align: center;
        color: white;
        margin-top: 40px;
        padding: 20px;
        font-size: 14px;
        opacity: 0.8;
      }

      @media (max-width: 768px) {
        .patterns-grid {
          grid-template-columns: 1fr;
        }
        .donation-buttons {
          flex-direction: column;
        }
        .donation-btn {
          width: 100%;
        }
        .main-content {
          padding: 20px;
        }
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1><i class="fas fa-code"></i> Regex –¥–ª—è –ª—é–¥–µ–π</h1>
        <p class="subtitle">–ì–æ—Ç–æ–≤—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –æ–¥–∏–Ω –∫–ª–∏–∫</p>

        <div class="donation-section">
          <div class="donation-iframe" id="donationContainer"></div>
        </div>
      </header>

      <div class="main-content">
        <div class="section-title">
          <i class="fas fa-bolt"></i>
          <span>–ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã</span>
        </div>

        <div class="patterns-grid">
          <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
          <div class="pattern-category">
            <div class="category-title">üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
            <div class="pattern-buttons">
              <button class="pattern-btn" onclick="selectPattern('email')">
                <span class="icon">üìß</span>
                <span>Email –∞–¥—Ä–µ—Å–∞</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('phone')">
                <span class="icon">üìû</span>
                <span>–¢–µ–ª–µ—Ñ–æ–Ω—ã (+7 –∏–ª–∏ 8)</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('gmail')">
                <span class="icon">üì®</span>
                <span>Gmail –∞–¥—Ä–µ—Å–∞</span>
              </button>
            </div>
          </div>

          <!-- –í–µ–± –∏ —Å–µ—Ç—å -->
          <div class="pattern-category">
            <div class="category-title">üåê –í–µ–± –∏ —Å–µ—Ç—å</div>
            <div class="pattern-buttons">
              <button class="pattern-btn" onclick="selectPattern('url')">
                <span class="icon">üîó</span>
                <span>URL —Å—Å—ã–ª–∫–∏</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('ip')">
                <span class="icon">üñ•Ô∏è</span>
                <span>IP –∞–¥—Ä–µ—Å–∞</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('hashtag')">
                <span class="icon">#Ô∏è‚É£</span>
                <span>–•—ç—à—Ç–µ–≥–∏</span>
              </button>
            </div>
          </div>

          <!-- –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è -->
          <div class="pattern-category">
            <div class="category-title">üìÖ –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è</div>
            <div class="pattern-buttons">
              <button class="pattern-btn" onclick="selectPattern('date_strict')">
                <span class="icon">üìÖ</span>
                <span>–î–∞—Ç—ã DD.MM.YYYY</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('date_simple')">
                <span class="icon">üìÜ</span>
                <span>–î–∞—Ç—ã (–ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç)</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('time')">
                <span class="icon">‚è∞</span>
                <span>–í—Ä–µ–º—è HH:MM</span>
              </button>
            </div>
          </div>

          <!-- –¢–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞ -->
          <div class="pattern-category">
            <div class="category-title">üî§ –¢–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞</div>
            <div class="pattern-buttons">
              <button class="pattern-btn" onclick="selectPattern('word')">
                <span class="icon">üî§</span>
                <span>–°–ª–æ–≤–∞ (3-10 –±—É–∫–≤)</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('number')">
                <span class="icon">üî¢</span>
                <span>–¶–µ–ª—ã–µ —á–∏—Å–ª–∞</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('error_start')">
                <span class="icon">üö®</span>
                <span>–°—Ç—Ä–æ–∫–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å ERROR</span>
              </button>
            </div>
          </div>

          <!-- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ -->
          <div class="pattern-category">
            <div class="category-title">üéØ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ</div>
            <div class="pattern-buttons">
              <button class="pattern-btn" onclick="selectPattern('password')">
                <span class="icon">üîí</span>
                <span>–ü–∞—Ä–æ–ª–∏ (—Å–ª–æ–∂–Ω—ã–µ)</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('username')">
                <span class="icon">üë§</span>
                <span>–ò–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('hex_color')">
                <span class="icon">üé®</span>
                <span>–¶–≤–µ—Ç–∞ –≤ HEX</span>
              </button>
            </div>
          </div>

          <!-- –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö -->
          <div class="pattern-category">
            <div class="category-title">üìä –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö</div>
            <div class="pattern-buttons">
              <button class="pattern-btn" onclick="selectPattern('uuid')">
                <span class="icon">üÜî</span>
                <span>UUID</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('mac_address')">
                <span class="icon">üîå</span>
                <span>MAC –∞–¥—Ä–µ—Å</span>
              </button>
              <button class="pattern-btn" onclick="selectPattern('credit_card')">
                <span class="icon">üí≥</span>
                <span>–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</span>
              </button>
            </div>
          </div>
        </div>

        <div class="result-section">
          <div class="section-title">
            <i class="fas fa-magic"></i>
            <span>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</span>
          </div>

          <div id="result" class="result">
            <div style="margin-bottom: 15px">
              <strong style="color: #495057">–û–ø–∏—Å–∞–Ω–∏–µ:</strong>
              <div id="patternDescription" style="margin-top: 5px; color: #666"></div>
            </div>

            <div style="margin-bottom: 15px">
              <strong style="color: #495057">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:</strong>
              <div class="regex-output" id="output"></div>
            </div>

            <div style="margin-bottom: 20px">
              <strong style="color: #495057">–ü—Ä–∏–º–µ—Ä:</strong>
              <div
                id="patternExample"
                style="margin-top: 5px; color: #666; font-family: monospace"></div>
            </div>

            <div class="action-buttons">
              <button class="action-btn copy" onclick="copyRegex()">
                <i class="fas fa-copy"></i>
                –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å Regex
              </button>
              <button class="action-btn copy" onclick="copyRegexWithFlags()">
                <i class="fas fa-flag"></i>
                –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å —Ñ–ª–∞–≥–∞–º–∏
              </button>
              <button class="action-btn test" onclick="toggleTest()">
                <i class="fas fa-vial"></i>
                –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
              </button>
            </div>

            <div class="test-section" id="testSection">
              <strong style="color: #856404">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö:</strong>
              <textarea
                id="testInput"
                class="test-input"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏..."
                rows="3"
                maxlength="5000"></textarea>
              <div id="matches" class="matches">–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤—ã—à–µ...</div>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | Regex –¥–ª—è –ª—é–¥–µ–π ¬© 2026</p>
        <p style="margin-top: 10px; font-size: 12px">
          <i class="fas fa-shield-alt"></i> –í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ
        </p>
      </footer>
    </div>

    <script>
      'use strict';

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ HTML
      function escapeHtml(unsafe) {
        if (typeof unsafe !== 'string') return '';
        return unsafe
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#039;');
      }

      // ========== –ë–ò–ë–õ–ò–û–¢–ï–ö–ê –†–ï–ì–£–õ–Ø–†–ù–´–• –í–´–†–ê–ñ–ï–ù–ò–ô ==========
      const patterns = {
        // –ö–æ–Ω—Ç–∞–∫—Ç—ã
        email: {
          regex: '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}',
          description: '–ù–∞—Ö–æ–¥–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ email –∞–¥—Ä–µ—Å–∞',
          example: 'user@example.com, john.doe+tag@domain.co.uk',
          category: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        },
        phone: {
          regex: '(?:\\+7|8)[ \\-]?\\(?\\d{3}\\)?[ \\-]?\\d{3}[ \\-]?\\d{2}[ \\-]?\\d{2}',
          description: '–†–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (+7 –∏–ª–∏ 8)',
          example: '+79161234567, 8 (916) 123-45-67',
          category: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        },
        gmail: {
          regex: '[a-zA-Z0-9._%+-]+@gmail\\.com',
          description: 'Email –∞–¥—Ä–µ—Å–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ gmail.com',
          example: 'user@gmail.com, john.doe@gmail.com',
          category: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        },

        // –í–µ–± –∏ —Å–µ—Ç—å
        url: {
          regex: 'https?://[^\\s]+',
          description: 'HTTP/HTTPS —Å—Å—ã–ª–∫–∏',
          example: 'https://example.com, http://google.com/path',
          category: '–í–µ–± –∏ —Å–µ—Ç—å',
        },
        ip: {
          regex:
            '\\b(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b',
          description: 'IPv4 –∞–¥—Ä–µ—Å–∞ (–∫–∞–∂–¥—ã–π –æ–∫—Ç–µ—Ç 0-255)',
          example: '192.168.1.1, 10.0.0.1, 255.255.255.255',
          category: '–í–µ–± –∏ —Å–µ—Ç—å',
        },
        hashtag: {
          regex: '#[a-zA-Z–∞-—è–ê-–Ø—ë–Å0-9_]+',
          description: '–•—ç—à—Ç–µ–≥–∏ (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å #)',
          example: '#regex, #–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, #test123',
          category: '–í–µ–± –∏ —Å–µ—Ç—å',
        },

        // –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è
        date_strict: {
          regex: '\\b(?:0[1-9]|[12][0-9]|3[01])[./-](?:0[1-9]|1[0-2])[./-](?:19|20)\\d{2}\\b',
          description: '–î–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY (–¥–Ω–∏ 01-31, –º–µ—Å—è—Ü—ã 01-12, –≥–æ–¥—ã 1900-2099)',
          example: '31.12.2023, 01.01.2024, 15.03.2024',
          category: '–î–∞—Ç—ã –∏ –≤—Ä–µ–º—è',
        },
        date_simple: {
          regex: '\\b\\d{2}[./-]\\d{2}[./-]\\d{4}\\b',
          description:
            '–î–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–≤–µ —Ü–∏—Ñ—Ä—ã, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, –¥–≤–µ —Ü–∏—Ñ—Ä—ã, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, —á–µ—Ç—ã—Ä–µ —Ü–∏—Ñ—Ä—ã',
          example: '99.99.9999, 01/01/2023, 15-03-2024',
          category: '–î–∞—Ç—ã –∏ –≤—Ä–µ–º—è',
        },
        time: {
          regex: '\\b(?:[01]?[0-9]|2[0-3]):[0-5][0-9]\\b',
          description: '–í—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM (24-—á–∞—Å–æ–≤–æ–π)',
          example: '14:30, 09:45, 23:59',
          category: '–î–∞—Ç—ã –∏ –≤—Ä–µ–º—è',
        },

        // –¢–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞
        word: {
          regex: '\\b\\w{3,10}\\b',
          description: '–°–ª–æ–≤–∞ –æ—Ç 3 –¥–æ 10 —Å–∏–º–≤–æ–ª–æ–≤ (–±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)',
          example: 'hello, world123, test_word',
          category: '–¢–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞',
        },
        number: {
          regex: '\\b\\d+\\b',
          description: '–¶–µ–ª—ã–µ —á–∏—Å–ª–∞',
          example: '123, 4567, 890',
          category: '–¢–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞',
        },
        error_start: {
          regex: '^ERROR.*',
          description: '–°—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å ERROR',
          example: 'ERROR: File not found, ERROR 404',
          category: '–¢–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞',
        },

        // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
        password: {
          regex: '^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$',
          description:
            '–°–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–º–∏–Ω. 8 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã –≤ –æ–±–æ–∏—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)',
          example: 'Password123!, Secure@2026',
          category: '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ',
        },
        username: {
          regex: '^[a-zA-Z0-9_]{3,20}$',
          description: '–ò–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (3-20 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)',
          example: 'john_doe, user123, admin',
          category: '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ',
        },
        hex_color: {
          regex: '^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$',
          description: '–¶–≤–µ—Ç–∞ –≤ HEX —Ñ–æ—Ä–º–∞—Ç–µ (#RGB –∏–ª–∏ #RRGGBB)',
          example: '#fff, #ffffff, #1a2b3c',
          category: '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ',
        },

        // –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
        uuid: {
          regex: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$',
          description: 'UUID (–≤–µ—Ä—Å–∏–∏ 1-5)',
          example: '123e4567-e89b-12d3-a456-426614174000',
          category: '–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö',
        },
        mac_address: {
          regex: '^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$',
          description: 'MAC –∞–¥—Ä–µ—Å–∞ (—Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ : –∏–ª–∏ -)',
          example: '00:1A:2B:3C:4D:5E, 00-1A-2B-3C-4D-5E',
          category: '–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö',
        },
        credit_card: {
          regex: '^\\d{4}[ -]?\\d{4}[ -]?\\d{4}[ -]?\\d{4}$',
          description: '–ù–æ–º–µ—Ä–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç (16 —Ü–∏—Ñ—Ä —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏)',
          example: '1234 5678 9012 3456, 1234-5678-9012-3456',
          category: '–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö',
        },
      };

      // ========== DOM –≠–õ–ï–ú–ï–ù–¢–´ ==========
      const resultEl = document.getElementById('result');
      const outputEl = document.getElementById('output');
      const patternDescriptionEl = document.getElementById('patternDescription');
      const patternExampleEl = document.getElementById('patternExample');
      const testSectionEl = document.getElementById('testSection');
      const testInput = document.getElementById('testInput');
      const matchesEl = document.getElementById('matches');
      const donationContainer = document.getElementById('donationContainer');

      // ========== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
      let currentPattern = null;
      let currentRegex = null;
      let currentFlags = 'g'; // –§–ª–∞–≥–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

      // ========== –í–´–ë–û–† –ü–ê–¢–¢–ï–†–ù–ê ==========
      function selectPattern(patternId) {
        const pattern = patterns[patternId];
        if (!pattern) return;

        currentPattern = pattern;
        currentRegex = pattern.regex;

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        patternDescriptionEl.textContent = pattern.description;
        patternExampleEl.textContent = pattern.example;
        outputEl.textContent = '/' + currentRegex + '/' + currentFlags;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        resultEl.classList.add('show');
        testSectionEl.classList.remove('show');
        testInput.value = '';
        matchesEl.textContent = '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏...';

        // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
        resultEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      // ========== –î–û–ù–ê–¢–´ ==========
      function showDonationIframe() {
        donationContainer.innerHTML = `
          <iframe 
            src="https://yoomoney.ru/quickpay/fundraise/button?billNumber=1F49C0D24DA.260106&" 
            width="330" 
            height="50" 
            frameborder="0" 
            allowtransparency="true" 
            scrolling="no"
            style="border-radius: 8px; margin-top: 10px; display: block; margin-left: auto; margin-right: auto;">
          </iframe>
          <p style="color: white; margin-top: 10px; font-size: 14px; text-align: center;">
            <i class="fas fa-lock"></i> –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ –ÆMoney
          </p>
        `;
      }

      // ========== –ö–û–ü–ò–†–û–í–ê–ù–ò–ï ==========
      function copyRegex() {
        if (!currentRegex) {
          alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω!');
          return;
        }

        navigator.clipboard
          .writeText(currentRegex)
          .then(() => {
            showToast('‚úÖ Regex —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä!');
          })
          .catch((err) => {
            showToast('‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ' + err.message);
          });
      }

      function copyRegexWithFlags() {
        if (!currentRegex) {
          alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω!');
          return;
        }

        const text = '/' + currentRegex + '/' + currentFlags;
        navigator.clipboard
          .writeText(text)
          .then(() => {
            showToast('‚úÖ Regex —Å —Ñ–ª–∞–≥–∞–º–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
          })
          .catch((err) => {
            showToast('‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ' + err.message);
          });
      }

      // ========== –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï ==========
      function toggleTest() {
        if (!currentRegex) {
          alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω!');
          return;
        }

        const willShow = !testSectionEl.classList.contains('show');
        testSectionEl.classList.toggle('show', willShow);

        if (willShow && testInput.value.trim()) {
          testRegex();
        }
      }

      function testRegex() {
        if (!currentRegex) return;

        const testText = testInput.value;
        if (!testText.trim()) {
          matchesEl.textContent = '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏...';
          return;
        }

        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞
        if (testText.length > 5000) {
          matchesEl.innerHTML =
            '<span style="color: #dc3545">‚ö†Ô∏è –¢–µ–∫—Å—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π! –ú–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤.</span>';
          return;
        }

        try {
          // –¢–∞–π–º-–∞—É—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç ReDoS
          const startTime = Date.now();
          const re = new RegExp(currentRegex, currentFlags);
          const matches = testText.match(re);
          const executionTime = Date.now() - startTime;

          if (executionTime > 1000) {
            matchesEl.innerHTML =
              '<span style="color: #ffc107">‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: regex –≤—ã–ø–æ–ª–Ω—è–ª—Å—è ' +
              executionTime +
              '–º—Å</span>';
            return;
          }

          if (matches && matches.length > 0) {
            const limitedMatches = matches.slice(0, 10);
            matchesEl.innerHTML =
              '<span style="color: #28a745">‚úÖ –ù–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π: ' +
              matches.length +
              '</span><br>' +
              limitedMatches
                .map(
                  (m, i) =>
                    '<div style="margin: 2px 0;">' +
                    '<span style="color: #6c757d">' +
                    (i + 1) +
                    '.</span> ' +
                    '<code style="background: #f8f9fa; padding: 2px 6px; border-radius: 3px;">"' +
                    escapeHtml(m) +
                    '"</code>' +
                    '</div>',
                )
                .join('') +
              (matches.length > 10
                ? '<div style="color: #6c757d; margin-top: 5px;">... –∏ –µ—â—ë ' +
                  (matches.length - 10) +
                  ' —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π</div>'
                : '');
          } else {
            matchesEl.innerHTML = '<span style="color: #dc3545">‚ùå –°–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</span>';
          }
        } catch (err) {
          matchesEl.innerHTML =
            '<span style="color: #dc3545">‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ regex:</span><br>' +
            '<code style="color: #dc3545; font-size: 12px;">' +
            escapeHtml(err.message) +
            '</code>';
        }
      }

      // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞ (—Å –¥–µ–±–∞—É–Ω—Å–æ–º)
      let testTimeout = null;
      testInput.addEventListener('input', function () {
        clearTimeout(testTimeout);
        testTimeout = setTimeout(testRegex, 300);
      });

      // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
      function showToast(message) {
        // –°–æ–∑–¥–∞–µ–º toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const toast = document.createElement('div');
        toast.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          background: #333;
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          z-index: 1000;
          font-size: 14px;
          animation: slideIn 0.3s ease;
        `;
        toast.textContent = message;
        document.body.appendChild(toast);

        setTimeout(() => {
          toast.style.animation = 'slideOut 0.3s ease';
          setTimeout(() => document.body.removeChild(toast), 300);
        }, 3000);
      }

      // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏–∏
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes slideOut {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(100%);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);

      // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π —à–∞–±–ª–æ–Ω
      setTimeout(() => {
        selectPattern('email');
      }, 100);

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–æ–Ω–∞—Ç—ã
      showDonationIframe();
    </script>
  </body>
</html>
